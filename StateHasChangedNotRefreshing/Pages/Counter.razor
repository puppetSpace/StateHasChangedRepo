@page "/"
@inject StateHasChangedNotRefreshing.Data.EventBroker _broker
@inject StateHasChangedNotRefreshing.Data.ObserverBroker _oBroker

<h1>Counter</h1>
<p>Update count in MainLayout</p>

<button class="btn btn-primary" @onclick="IncrementCountWithEvent">Increment with event</button>
<button class="btn btn-primary" @onclick="IncrementCountWithObserver">Increment with observer</button>

@code {

    private void IncrementCountWithEvent()
    {
        _broker.Notify();
    }

    private void IncrementCountWithObserver()
    {
        _oBroker.Publish(new StateHasChangedNotRefreshing.Data.CounterUpdateNotificationMessage());
    }
}
